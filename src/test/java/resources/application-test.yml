# 이 프로파일은 GitHub Actions의 CI(빌드/테스트) 과정에서 일반적인 단위/통합 테스트를 실행할 때 사용됩니다.
# (./gradlew build 실행 시 SPRING_PROFILES_ACTIVE=test 로 활성화)
#
# [주의사항]
# - 실제 DB(MySQL)의 기능이 꼭 필요한 E2E 테스트의 경우, 'Testcontainers'를 사용해 주세요.
#   Properties를 configure하는 과정에서 spring.flyway.enabled를 true로 설정해 주세요.
#
# - 로컬에서 다른 DB(예: 로컬 MySQL)로 테스트하고 싶다면,
#   `application-local-test.yml` 과 같은 별도의 프로파일을 직접 만들어 사용해주세요.
#   (.gitignore에 추가하는 것을 잊지 마세요.)
spring:
  autoconfigure:
    exclude:
      - org.springframework.boot.autoconfigure.data.elasticsearch.ElasticsearchDataAutoConfiguration
      - org.springframework.boot.autoconfigure.elasticsearch.ElasticsearchClientAutoConfiguration

  datasource:
    url: jdbc:h2:mem:couponpop_test_db;DB_CLOSE_DELAY=-1
    username: sa
    password:
    driver-class-name: org.h2.Driver

  jpa:
    hibernate:
      ddl-auto: create-drop
    properties:
      hibernate:
        dialect: org.hibernate.dialect.H2Dialect
  flyway:
    enabled: false

jwt:
  secret:
    key: Y291cG9ucG9wLXRlc3QtanVuaW9yLWJhY2tlbmQtZGV2ZWxvcGVyLXNlY3JldC1rZXktZm9yLWNpLWNkCg==